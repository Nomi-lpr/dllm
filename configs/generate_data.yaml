#暂时先准备这些
# 阶段1：数据生成配置
defaults:
  - _self_
  - task/ceval
  - dataset/c-eval
  #- sampler/random
  - sampler/text_sim_qwen_mmr   # Qwen + MMR
  # - sampler/text_sim_sbert      # SBERT 相似度
  - infer_model/llada

# 生成参数
few_shot_num: 4  # 要选择的ICD数量
beam_size: 5  # Beam Search的beam大小
scorer: "infoscore"  # 评分函数：目前只支持 "infoscore"
batch_size: 1  # 批处理大小（InfoScore计算时使用，一般设为1）
metric: "no_order"  # 插入策略："no_order" 或 "order"
device: cuda
precision: bf16

# Sampler参数（默认值，会被 sampler/random.yaml 通过 ${variable} 继承）
candidate_num: 64  # 候选集大小（默认值，可通过命令行覆盖：sampler.candidate_num=10）
anchor_sample_num: 100  # anchor数量（默认值，可通过命令行覆盖：sampler.anchor_sample_num=10）

# 多卡配置（可选）
use_multi_gpu: false  # 是否使用多GPU
gpu_ids: [0]  # GPU ID列表，例如 [0, 1, 2, 3]
sleep_time: 10  # 多卡模式下，各进程启动间隔（秒）

# 输出配置
output_dir: "./generated_icd_data"
merge_results: false  # 多卡模式下，是否合并所有rank的结果

# 测试配置（用于test_candidate_scoring.py）
mc_num: 1  # 测试时使用的Monte Carlo采样次数（可以减小以加快速度）
cfg_scale: 0.0  # CFG scale